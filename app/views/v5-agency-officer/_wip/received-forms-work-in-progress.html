
{% extends "layout-admin.html" %}

{% block pageTitle %}
  Received Annex VII forms - Waste tracking service
{% endblock %}

{% block beforeContent %}
  {{ govukPhaseBanner({
    tag: {
      text: "agency officer prototype"
    },
    html: 'This is not a live service.'
  }) }}
  {{ govukBackLink({
    text: 'Back',
    href: 'javascript:history.go(-1)'
  }) }}
{% endblock %}

{% block content %}

<!--
  HIDDEN FIELD IDEA, FIELD IS POPULATED THROUGH AN ONCLICK ACTION ON A VIEW LINK
  THIS THEN BECOMES A VARIABLE IN ITS OWN RIGHT, THIS SHOULD THEN BE ABLE TO CHECKED AND VALIDATED
  ON THE DESTOMATION ANCHOR LINK PAGE AND RESULTS IN A PARTICULAR RESULT DEPENDING UPON THE VARIABLE CONTENTS
  UNFORUNTATELY, THE NAVIGATION TO THE NEXT URL OCCURS BEFORE THE ACTION OF POPULATING THE HIDDEN FIELD AND THE
  RESULTING VARIAVBLE IS ABLE TO BE COMPLETED... :-(
-->
<!--
<label for="gUTIDref">globel-utid-ref (hidden field)</label>
<input id="gUTIDref" name="gUTIDref" value="{{ data['gUTIDref'] }}" type="text" autocomplete="off" >
-->

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <span class="govuk-caption-xl">
        Waste tracking service
      </span>
      <h1 class="govuk-heading-xl">
        Received Annex VII forms
      </h1>
      
      <form action="search-validation-lc" method="post" novalidate>
        <div class="govuk-form-group">
          <fieldset class="govuk-fieldset govuk-!-margin-top-4">
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
              Search criteria
            </legend>
            <div class="govuk-form-group">
            <label class="govuk-label" for="utid-entered">
                Reference number
              </label>
              <input class="govuk-input govuk-input--width-20" id="utid" name="utid-entered" type="text" autocomplete="off" >
              {{ govukButton({
                text: "Search"
              }) }}
            </div>
          </fieldset>
        </div>
      </form>

    </div>
  </div>



  <div class="flex-container grid-row">
    <table class="govuk-table">
      <!--<caption class="govuk-table__caption govuk-table__caption--m">Annex VII forms received</caption>-->
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">Status</th>
          <th scope="col" class="govuk-table__header">Date of shipment</th>
          <th scope="col" class="govuk-table__header">Usual description</th>
          <th scope="col" class="govuk-table__header">Organiser</th> <!-- Facilitator | Arranger -->
          <th scope="col" class="govuk-table__header">UTID</th>
          <th scope="col" class="govuk-table__header">Action</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        <tr class="govuk-table__row">
          <td scope="row" class="govuk-table__cell">
            {{govukTag({
              text: "Submitted",
              classes: "govuk-tag--blue"
            })}}
          </td>
          <td class="govuk-table__cell">17 May 2021</td>
          <td class="govuk-table__cell">Paper scrap - OCC</td>
          <td class="govuk-table__cell">Company name One</td>
          <td class="govuk-table__cell">817435283</td>
          <td class="govuk-table__cell">
            <!--<a href="view-annex-vii-817435283" class="govuk-link">View</a>-->
            <a href="view-annex-vii-817435283" onclick="myFunction()" class="govuk-link" id="817435283">View</a>
            <!--<a href="view-annex-vii" onclick="javascript: document.getElementById('gUTIDref').value = 'PASSED1'" id="PASSED1" class="govuk-link">View</a>-->
            <!--{{ govukButton({
              text: "View",
              id: "view_one"
            }) }}-->
          </td>
        </tr>
        <tr class="govuk-table__row">
          <td scope="row" class="govuk-table__cell">
            {{govukTag({
              text: "Submitted",
              classes: "govuk-tag--blue"
            })}}
          </td>
          <td class="govuk-table__cell">17 May 2021</td>
          <td class="govuk-table__cell">Mixed Paper EN643</td>
          <td class="govuk-table__cell">Company name Two</td>
          <td class="govuk-table__cell">375518473</td>
          <td class="govuk-table__cell">
            <a href="view-annex-vii-375518473" class="govuk-link">View</a>
            <!--
            <a href="view-annex-vii" onclick="javascript: document.getElementById('gUTIDref').value = 'PASSED2';" id="PASSED2" class="govuk-link">View</a>
            <{{ govukButton({
              text: "View",
              idPrefix: "view_two"
            }) }}
            -->
          </td>
        </tr>
        <tr class="govuk-table__row">
          <td scope="row" class="govuk-table__cell">
            {{govukTag({
              text: "Alert",
              classes: "govuk-tag--red"
            })}}
          </td>
          <td class="govuk-table__cell">17 May 2021</td>
          <td class="govuk-table__cell">Heavy melting steel scrap</td>
          <td class="govuk-table__cell">Company name Three</td>
          <td class="govuk-table__cell">409413376</td>
          <td class="govuk-table__cell">
            <a href="view-annex-vii-409413376" class="govuk-link">View</a>
            <!--<a href="view-annex-vii" onclick="javascript: document.getElementById('gUTIDref').value = 'PASSED3';" id="PASSED3" class="govuk-link">View</a>
            {{ govukButton({
              text: "View"
            }) }}
            -->
          </td>
        </tr>
      </tbody>
    </table>
  </div>

<script>
  document.getElementById("817435283").addEventListener("click", function(event){
    event.preventDefault();
    alert("well i'm working");
    localStorage.setItem("who-arranged-company-name", "did it work");
    window.location.replace("view-annex-vii-817435283");
  });
</script>


{% endblock %}
